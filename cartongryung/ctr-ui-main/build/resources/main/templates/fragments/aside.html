<!DOCTYPE html>
<html lang="ko"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.w3.org/1999/html">
<div th:fragment="aside">
    <div class="aside-bg"></div>
    <aside id="aside-menu">
        <div class="aside-header">
            <div class="aside-center hide-pc">
                <span class="title">더보기</span>
            </div>
            <button type="button" class="aside-close">닫기</button>
            <div class="member-info">
                <!-- 로그인 전 -->
                <th:block sec:authorize="isAnonymous()">
                    <p class="txt">로그인하고, 나를 위한<br>카통령 서비스를 만나보세요.</p>
                </th:block>
                <!-- 로그인 후 -->
                <!-- 로그인 타입 kakao, naver, google, apple -->
                <th:block sec:authorize="!isAnonymous()">
                    <div class="is-login kakao">
                        <div class="profile">
                            <img src="/user/images/dummy/profile01.jpg" alt="">
                        </div>
                        <p class="txt"><strong class="name" th:text="${memberName}">홍길동</strong>님<br>우리 함께 차 보러 갈래요?</p>
                        <a href="/setting" class="btn-setting hide-pc">설정</a>
                    </div>
                </th:block>
            </div>
            <div class="aside-login">
                <!-- 로그인 전 -->
                <th:block sec:authorize="isAnonymous()">
                    <a href="/login">로그인</a>
                    <a href="/login">회원가입</a>
                </th:block>
                <!-- 로그인 후 -->
                <th:block sec:authorize="!isAnonymous()">
                    <a href="/mypage/myinfo" class="is-login" sec:authentication="principal.username">aaaa@daum.net</a>
                </th:block>
            </div>
        </div>
        <div class="aside-body">
            <ul class="aside-menu">
                <th:block sec:authorize="!isAnonymous()">
                    <li>
                        <div class="num-list">
                            <a href="/mypage/pick">
                                <i class="i-like"></i>
                                <p class="txt">찜<span class="num" id="pickCount">0</span></p>
                            </a>
                            <a href="/mypage/recent">
                                <i class="i-recent"></i>
                                <p class="txt">최근<span class="num" id="recentCount">0</span></p>
                            </a>
                            <a href="/mypage/inquiry">
                                <i class="i-consult"></i>
                                <p class="txt">상담<span class="num" id="inquiryCount">0</span></p>
                            </a>
                            <a href="/mypage/purchase">
                                <i class="i-visit"></i>
                                <p class="txt">방문<span class="num" id="visitCount">0</span></p>
                            </a>
                        </div>
                    </li>
                </th:block>
                <th:block sec:authorize="!isAnonymous()">
                    <li>
                        <a href="/sale/vehicle" class="tit">내 차 목록 (<em id="vehicleCount">0</em>)</a>
                    </li>
                </th:block>
                <th:block sec:authorize="isAnonymous()">
                    <li>
                        <span class="tit">안내</span>
                        <ul class="depth2">
                            <li>
                                <a href="/board/notice">공지사항</a>
                            </li>
                            <li>
                                <a href="/board/faq">자주하는 질문</a>
                            </li>
                            <li>
                                <a href="/board/guide">중고차 가이드</a>
                            </li>
                            <li>
                                <a href="/event">이벤트</a>
                            </li>
                        </ul>
                    </li>
                </th:block>
                <th:block sec:authorize="!isAnonymous()">
                    <li class="is-logout">
                        <a href="/logout" class="tit">로그아웃</a>
                    </li>
                </th:block>
            </ul>
        </div>
    </aside>
</div>
</html>
